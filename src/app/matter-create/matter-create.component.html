<div class="container">
    <div class="submit-form" *ngIf="!isSubmitted">
        <form [formGroup]="matterForm" (ngSubmit)="createMatter()">
           <div class="form-group">
                <label for="case_file_number">File Number</label>
                <input type="text" formControlName="case_file_number">
            </div> 
            <div class="form-group">
                <label for="case_first_name">First Name</label>
                <input type="text" formControlName="case_first_name">
                <div *ngIf="isSubmitted && matterForm.controls.case_first_name.errors" [ngClass]="{ 'alert-danger': isSubmitted && matterForm.controls.case_first_name.errors }">First name is required</div>
            </div>
            <div class="form-group">
                <label for="case_last_name">Last Name</label>
                <input type="text" formControlName="case_last_name" >
                <p [ngClass]="{ 'has-error': isSubmitted && formControls.case_last_name.errors }"></p>
            </div>
            <div class="form-group" [ngClass]="{ 'has-error': isSubmitted && formControls.case_subcategory.errors }">
                <label for="case_subcategory">Sub category</label>
                <select formControlName="case_subcategory" id="case_subcategory" >
                    <option disabled selected value="">Select a category</option>
                    <option *ngFor="let item of subcategories, index as i" value="{{item.subcategory_name}}">{{item.subcategory_name}}</option>
                </select>
            </div>
            <div class="form-group">
                <label for="case_closed_date">Closed Date</label>
                <input type="text" formControlName="case_closed_date">
            </div>
            <div class="form-group">
                <label for="case_box">Case Box</label>
                <input type="text" formControlName="case_box">
            </div>
            <div class="form-group">
                <label for="case_author">Author</label>
                <input type="text" formControlName="case_author" >
                <p [ngClass]="{ 'has-error': isSubmitted && formControls.case_author.errors }"></p>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <input class="btn btn-primary" [disabled]="matterForm.invalid" type="submit" 
                        value="Create Matter">
                </div>
            </div>
        </form>
        <div>
            {{matterForm.value | json}}
        </div>
        <div>
            {{matterForm.valid}}
        </div>
    </div>
    <div *ngIf="isSubmitted">
        <hs>You successfully created a matter!</hs>
        <button class="btn btn-success" (click)="newMatter()">New...</button>
    </div>
</div>